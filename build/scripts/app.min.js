!function(){"use strict";angular.module("myApp",["ngRoute","ngMessages","ngCookies","ngAnimate","ngSanitize","ui.bootstrap","angularUtils.directives.dirPagination","base64"]).config(["$routeProvider","$httpProvider",function(e,t){e.when("/login",{templateUrl:"./login.html",controller:""}).when("/dashboard",{templateUrl:"./dashboard.html",controller:""}).otherwise({redirectTo:"/login"}),t.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.interceptors.push("authInterceptor")}])}(),function(){"use strict";angular.module("myApp").constant("CONFIG",{API_HOST:"http://localhost:8080"})}(),function(){"use strict";function e(e,t,r,s){t.userName="",t.passWord="",t.classValue="",t.lastName="",t.viewby=10,t.classShow=!1,t.searchById=function(){console.log(t.studentId),e.searchById(t.studentId).then(function(e){if(200===e.status){t.classShow=!1;var r=e.data;t.studentDetails=r}else t.studentDetails.length=0})},t.deleteById=function(r){console.log(r),e.delete(r).then(function(e){if(200===e.status){var r=e.data;t.studentDetails=r}else t.studentDetails.length=0})},t.update=function(r,s){console.log(r),t.dat={studentId:r.studentId,firstName:$("#first"+s).val(),lastName:$("#last"+s).val(),dateOfBirth:r.dateOfBirth,classDetails:$("#class"+s).val(),scoreCard:{scoreCardId:r.scoreCard.scoreCardId,subject1:$("#sub1"+s).val(),subject2:$("#sub2"+s).val(),subject3:$("#sub3"+s).val()}},console.log(t.dat),e.update(t.dat).then(function(e){if(200===e.status){var r=e.data;r.sort(function(e,t){return parseFloat(t.scoreCard.subject1)+parseFloat(t.scoreCard.subject2)+parseFloat(t.scoreCard.subject3)-(parseFloat(e.scoreCard.subject1)+parseFloat(e.scoreCard.subject2)+parseFloat(e.scoreCard.subject3))}),t.studentDetails=r}else t.studentDetails.length=0})},t.getPercentage=function(e){return console.log(e),100*(parseFloat(e.subject1)+parseFloat(e.subject2)+parseFloat(e.subject3))/300},t.sorting=function(e){return t.getPercentage(e.scoreCard)},t.searchByClass=function(){e.searchByClass(t.classValue).then(function(e){if(200===e.status){t.classShow=!0;var r=e.data;console.log(e),r.sort(function(e,t){return parseFloat(t.scoreCard.subject1)+parseFloat(t.scoreCard.subject2)+parseFloat(t.scoreCard.subject3)-(parseFloat(e.scoreCard.subject1)+parseFloat(e.scoreCard.subject2)+parseFloat(e.scoreCard.subject3))}),t.studentDetails=r}else t.studentDetails.length=0})},t.searchByFirstName=function(){e.searchByFirstName(t.firstName).then(function(e){if(t.classShow=!1,200===e.status){var r=e.data;console.log(e),r.sort(function(e,t){return parseFloat(t.scoreCard.subject1)+parseFloat(t.scoreCard.subject2)+parseFloat(t.scoreCard.subject3)-(parseFloat(e.scoreCard.subject1)+parseFloat(e.scoreCard.subject2)+parseFloat(e.scoreCard.subject3))}),t.studentDetails=r}else t.studentDetails.length=0})},t.searchByLastName=function(){console.log(t.lastName),e.searchByLastName(t.lastName).then(function(e){if(200===e.status){t.classShow=!1;var r=e.data;r.sort(function(e,t){return parseFloat(t.scoreCard.subject1)+parseFloat(t.scoreCard.subject2)+parseFloat(t.scoreCard.subject3)-(parseFloat(e.scoreCard.subject1)+parseFloat(e.scoreCard.subject2)+parseFloat(e.scoreCard.subject3))}),t.studentDetails=r}else t.studentDetails.length=0})},t.logout=function(){e.signOut().then(function(e){200===e.status&&(delete r.sessionStorage.token,r.location.href="#!/login")},function(e){})},t.classe=[{name:"1",id:"1"},{name:"2",id:"2"},{name:"3",id:"3"},{name:"4",id:"4"},{name:"5",id:"5"},{name:"6",id:"6"},{name:"7",id:"7"},{name:"8",id:"8"},{name:"9",id:"9"},{name:"10",id:"10"},{name:"11",id:"11"},{name:"12",id:"12"}]}angular.module("myApp").controller("dashboardController",e),e.$inject=["restServices","$scope","$window","$cookieStore"]}(),function(){"use strict";function e(e,t,r){t.userName="",t.passWord="",t.submit=function(){console.log(t.userName);var s={username:t.userName,password:t.passWord};console.log(s),e.login(s).then(function(e){console.log(s),200===e.status?(r.sessionStorage.token=e.data.token,console.log(r.sessionStorage.token),r.location.href="#!/dashboard"):(t.error=!0,t.errorDescriptio="Login Unsuccessful. Please try Again.")})}}angular.module("myApp").controller("loginController",e),e.$inject=["restServices","$scope","$window"]}(),function(){"use strict";function e(e,t,r,s){return{request:function(e){return e.headers=e.headers||{},r.sessionStorage.token&&(e.headers["X-Auth-Token"]=r.sessionStorage.token),e},response:function(e){return e.status,e||t.when(e)},responseError:function(e){return console.log(e),403===e.status?console.log(e.status):-1===e.status&&console.log(e.status),e||t.when(e)}}}angular.module("myApp").service("authInterceptor",e),e.$inject=["$rootScope","$q","$window","$injector"]}(window.angular),function(){"use strict";function e(){var e=this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return e.methods={encode:function(e){var r,s,o,n,a,c="",i="",l="",u=0;do{r=e.charCodeAt(u++),s=e.charCodeAt(u++),i=e.charCodeAt(u++),o=r>>2,n=(3&r)<<4|s>>4,a=(15&s)<<2|i>>6,l=63&i,isNaN(s)?a=l=64:isNaN(i)&&(l=64),c=c+t.charAt(o)+t.charAt(n)+t.charAt(a)+t.charAt(l),r=s=i="",o=n=a=l=""}while(u<e.length);return c},decode:function(e){var r,s,o,n,a,c="",i="",l="",u=0;/[^A-Za-z0-9\+\/\=]/g.exec(e)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=t.indexOf(e.charAt(u++)),n=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),r=o<<2|n>>4,s=(15&n)<<4|a>>2,i=(3&a)<<6|l,c+=String.fromCharCode(r),64!=a&&(c+=String.fromCharCode(s)),64!=l&&(c+=String.fromCharCode(i)),r=s=i="",o=n=a=l=""}while(u<e.length);return c}},e.methods}angular.module("myApp").service("Base64",e)}(window.angular),function(){"use strict";function e(e,t,r,s){function o(o){var n=t.defer(),a=s.encode(o.username+":"+o.password);return h.user={username:o.username,password:o.password},console.log(a),e({url:r.API_HOST+"/token",method:"GET",headers:{"Content-Type":"application/json ",Authorization:"Basic "+a}}).then(function(e){console.log(e),n.resolve(e)},function(e){console.error("Error while fetching Users"),n.reject(e)}),n.promise}function n(s){console.log(s);var o=t.defer();return e({url:r.API_HOST+"/api/getStudentInfoByclassDetails/"+s,method:"GET"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function a(s){console.log(s);var o=t.defer();return e({url:r.API_HOST+"/api/deleteById/"+s,method:"DELETE"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function c(s){console.log(s);var o=t.defer();return e({url:r.API_HOST+"/api/updateByData",data:s,headers:{"Content-Type":"application/json "},method:"POST"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function i(s){var o=t.defer();return e({url:r.API_HOST+"/api/getStudentInfoById/"+s,method:"GET"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function l(s){var o=t.defer();return e({url:r.API_HOST+"/api/getStudentInfoByName/"+s,method:"GET"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function u(s){var o=t.defer();return e({url:r.API_HOST+"/api/getStudentInfoByLastName/"+s,method:"GET"}).then(function(e){o.resolve(e)},function(e){console.error("Error while fetching Users"),o.reject(e)}),o.promise}function d(){var s=t.defer();return e({url:r.API_HOST+"/api/logout",method:"GET"}).then(function(e){s.resolve(e)},function(e){console.error("Error while fetching Users"),s.reject(e)}),s.promise}var h=this;h.login=o,h.searchById=i,h.searchByClass=n,h.searchByFirstName=l,h.searchByLastName=u,h.signOut=d,h.delete=a,h.update=c}var t;t=angular.module("myApp"),t.service("restServices",e),e.$inject=["$http","$q","CONFIG","Base64"]}();